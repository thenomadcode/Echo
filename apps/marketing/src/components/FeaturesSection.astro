---
import FeatureCard from "./FeatureCard.astro";

interface Feature {
	icon: string;
	title: string;
	description: string;
	href: string;
}

const features: Feature[] = [
	{
		icon: `<svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>`,
		title: "AI That Sounds Like You",
		description:
			"Natural conversations that match your brand voice. No robotic scripts—just real replies that feel human.",
		href: "/features/ai-chat",
	},
	{
		icon: `<svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>`,
		title: "Connect Your Channels",
		description:
			"WhatsApp Business today, Instagram and Messenger coming soon. One inbox for all your conversations.",
		href: "/features/integrations",
	},
	{
		icon: `<svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" /></svg>`,
		title: "Shopify Sync",
		description:
			"Import your entire product catalog with one click. Inventory stays in sync automatically.",
		href: "/features/shopify",
	},
	{
		icon: `<svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>`,
		title: "Remembers Your Customers",
		description:
			"Customer preferences, allergies, and order history—Echo knows your regulars and treats them right.",
		href: "/features/customer-memory",
	},
];
---

<section class="py-16 lg:py-24">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center max-w-3xl mx-auto mb-12 lg:mb-16">
      <h2 class="font-heading font-bold text-3xl sm:text-4xl text-foreground mb-4">
        Everything you need to sell on autopilot
      </h2>
      <p class="text-lg text-muted-foreground">
        From AI conversations to product management, Echo handles it all so you can focus on what you do best.
      </p>
    </div>
    
    <div id="features" class="grid sm:grid-cols-2 gap-6 lg:gap-8 stagger-children">
      {features.map((feature) => (
        <FeatureCard
          icon={feature.icon}
          title={feature.title}
          description={feature.description}
          href={feature.href}
        />
      ))}
    </div>
  </div>
</section>

<script>
  const observerOptions = {
    root: null,
    rootMargin: '0px',
    threshold: 0.1
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  document.querySelectorAll('.animate-on-scroll').forEach((el) => {
    observer.observe(el);
  });
</script>
