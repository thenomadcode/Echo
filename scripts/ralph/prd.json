{
  "projectName": "design-system-redesign",
  "branchName": "feature/design-system-redesign",
  "userStories": [
    {
      "id": "S01",
      "title": "Update CSS variables with Warm Signal color palette",
      "priority": 1,
      "passes": true,
      "ultrawork": true,
      "acceptanceCriteria": [
        "Update apps/web/src/index.css with Warm Signal color palette",
        "Add light mode CSS variables: --background: oklch(0.985 0.002 90), --foreground: oklch(0.145 0.015 60), --primary: oklch(0.58 0.2 35) terracotta, --primary-foreground: oklch(0.98 0.01 90), --secondary: oklch(0.92 0.04 55) peach, --muted: oklch(0.96 0.005 90), --muted-foreground: oklch(0.55 0.015 60), --accent: oklch(0.92 0.04 55), --destructive: oklch(0.55 0.2 25), --success: oklch(0.6 0.19 145), --border: oklch(0.9 0.005 90), --ring: oklch(0.58 0.2 35)",
        "Add dark mode CSS variables: --background: oklch(0.145 0.015 60), --foreground: oklch(0.985 0.002 90), --primary: oklch(0.72 0.17 45), --primary-foreground: oklch(0.15 0.02 30), --secondary: oklch(0.25 0.06 30), --muted: oklch(0.21 0.01 60), --muted-foreground: oklch(0.65 0.01 60), --border: oklch(0.3 0.01 60 / 0.5)",
        "Add spacing scale CSS variables: --space-1 through --space-16",
        "Add border radius CSS variables: --radius-sm: 6px, --radius-md: 10px, --radius-lg: 16px, --radius-full: 9999px",
        "Ensure CSS variables work in both :root and .dark selectors",
        "Run bun run check-types to verify no CSS parsing errors"
      ]
    },
    {
      "id": "S02",
      "title": "Add Google Fonts for typography",
      "priority": 2,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/__root.tsx to include Google Fonts",
        "Add Plus Jakarta Sans font (weights 600, 700) for headlines",
        "Add DM Sans font (weights 400, 500) for body text",
        "Add JetBrains Mono font (weight 400) for monospace",
        "Update tailwind.config.ts to extend fontFamily with: heading: Plus Jakarta Sans, body: DM Sans, mono: JetBrains Mono",
        "Ensure fonts load without FOUT (flash of unstyled text)",
        "BROWSER TEST: Navigate to any page, verify Plus Jakarta Sans loads for headings",
        "BROWSER TEST: Verify body text uses DM Sans font"
      ]
    },
    {
      "id": "S03",
      "title": "Create authenticated layout route structure",
      "priority": 3,
      "passes": true,
      "ultrawork": true,
      "acceptanceCriteria": [
        "Create apps/web/src/routes/_authenticated.tsx as layout route",
        "Layout wraps all authenticated pages (dashboard, conversations, orders, products, settings)",
        "Layout contains: Sidebar (left), Header (top), Outlet (content area)",
        "Add responsive behavior: sidebar visible on desktop (>=1024px), hidden on mobile",
        "Content area has proper max-width constraints based on page type",
        "Layout handles loading and error states gracefully",
        "Export Route with beforeLoad that checks authentication",
        "BROWSER TEST: Navigate to /dashboard, verify layout renders with sidebar and header",
        "BROWSER TEST: Resize to mobile viewport, verify sidebar is hidden"
      ]
    },
    {
      "id": "S04",
      "title": "Create collapsible Sidebar component",
      "priority": 4,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Create apps/web/src/components/layout/Sidebar.tsx",
        "Sidebar has two states: collapsed (64px, icons only) and expanded (240px, icons + text)",
        "Expand on hover with smooth CSS width transition",
        "Sidebar contains: Echo logo at top, navigation items (Dashboard, Conversations, Orders, Products, Settings), collapse toggle at bottom",
        "Navigation items use icons from existing app-nav.tsx",
        "Active route highlighted with primary color background",
        "Store collapsed/expanded preference in localStorage",
        "Collapse toggle button at bottom of sidebar",
        "BROWSER TEST: Navigate to dashboard, verify sidebar renders with all nav items",
        "BROWSER TEST: Hover over collapsed sidebar, verify it expands to show labels",
        "BROWSER TEST: Click collapse toggle, verify state persists on page refresh"
      ]
    },
    {
      "id": "S05",
      "title": "Create AppHeader component",
      "priority": 5,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Create apps/web/src/components/layout/AppHeader.tsx",
        "Header positioned at top of content area (not overlapping sidebar)",
        "Header contains: BusinessSwitcher (left), Command Palette trigger with Cmd+K hint (center), NotificationBell and UserMenu (right)",
        "Import and use existing BusinessSwitcher component",
        "Import and use existing UserMenu component",
        "Add Command Palette trigger button showing Cmd+K keyboard shortcut",
        "Header has subtle bottom border",
        "Header is sticky at top of content area",
        "BROWSER TEST: Navigate to dashboard, verify header shows business switcher and user menu",
        "BROWSER TEST: Verify Cmd+K shortcut hint is visible in header"
      ]
    },
    {
      "id": "S06",
      "title": "Create mobile BottomNav component",
      "priority": 6,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Create apps/web/src/components/layout/BottomNav.tsx",
        "Bottom navigation bar fixed at bottom of screen on mobile (<1024px)",
        "Contains 5 navigation items: Dashboard, Conversations, Orders, Products, Settings",
        "Each item has icon and label below",
        "Active item highlighted with primary color",
        "Touch targets minimum 44px height",
        "Bottom nav has z-index 50 to stay above content",
        "Content area accounts for bottom nav height (padding-bottom)",
        "Hidden on desktop viewports",
        "BROWSER TEST: Resize to mobile viewport, verify bottom nav appears",
        "BROWSER TEST: Tap each nav item, verify navigation works",
        "BROWSER TEST: Resize to desktop, verify bottom nav is hidden"
      ]
    },
    {
      "id": "S07",
      "title": "Remove duplicated navigation from all page components",
      "priority": 7,
      "passes": true,
      "ultrawork": true,
      "acceptanceCriteria": [
        "Identify all routes that duplicate Header/AppNav/UserMenu/BusinessSwitcher",
        "Remove duplicated header from apps/web/src/routes/dashboard.tsx",
        "Remove duplicated header from apps/web/src/routes/conversations/index.tsx",
        "Remove duplicated header from apps/web/src/routes/conversations_.$conversationId.tsx",
        "Remove duplicated header from apps/web/src/routes/orders/index.tsx",
        "Remove duplicated header from apps/web/src/routes/orders_.$orderId.tsx",
        "Remove duplicated header from apps/web/src/routes/products/index.tsx",
        "Remove duplicated header from apps/web/src/routes/products/$productId.tsx",
        "Remove duplicated header from apps/web/src/routes/products/new.tsx",
        "Remove duplicated header from apps/web/src/routes/settings files",
        "Ensure all authenticated pages now inherit navigation from _authenticated layout",
        "Run bun run check-types to verify no import errors",
        "BROWSER TEST: Navigate through all main pages, verify consistent navigation shell"
      ]
    },
    {
      "id": "S08",
      "title": "Replace window.confirm with AlertDialog in orders",
      "priority": 8,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/orders_.$orderId.tsx line ~136",
        "Replace window.confirm() with shadcn AlertDialog component",
        "AlertDialog title: 'Cancel Order'",
        "AlertDialog description: 'Are you sure you want to cancel this order? This action cannot be undone.'",
        "Cancel button: 'Keep Order'",
        "Confirm button: 'Cancel Order' with variant='destructive'",
        "Import AlertDialog components from @/components/ui/alert-dialog",
        "BROWSER TEST: Navigate to order detail page, click cancel order",
        "BROWSER TEST: Verify AlertDialog appears instead of browser confirm",
        "BROWSER TEST: Click 'Keep Order', verify dialog closes without action"
      ]
    },
    {
      "id": "S09",
      "title": "Replace window.confirm with AlertDialog in conversations",
      "priority": 9,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/conversations_.$conversationId.tsx line ~157",
        "Replace window.confirm() for 'Hand Back to AI' with AlertDialog",
        "AlertDialog title: 'Hand Back to AI'",
        "AlertDialog description: 'Are you sure you want to hand this conversation back to the AI assistant?'",
        "Cancel button: 'Keep Control'",
        "Confirm button: 'Hand Back'",
        "Import AlertDialog components from @/components/ui/alert-dialog",
        "BROWSER TEST: Navigate to conversation detail, click hand back to AI",
        "BROWSER TEST: Verify AlertDialog appears instead of browser confirm"
      ]
    },
    {
      "id": "S10",
      "title": "Replace inline modals with AlertDialog in products",
      "priority": 10,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/products/$productId.tsx for single product delete",
        "Replace custom inline modal with AlertDialog component",
        "AlertDialog title: 'Delete Product'",
        "AlertDialog description: 'Are you sure you want to delete this product? This action cannot be undone.'",
        "Update apps/web/src/routes/products/index.tsx for bulk delete",
        "Replace custom inline modal with AlertDialog for bulk delete confirmation",
        "AlertDialog title: 'Delete Products'",
        "AlertDialog description: 'Are you sure you want to delete {count} products? This action cannot be undone.'",
        "All AlertDialogs have consistent styling with destructive confirm button",
        "BROWSER TEST: Navigate to product detail, click delete",
        "BROWSER TEST: Verify AlertDialog appears for delete confirmation",
        "BROWSER TEST: Select multiple products, click bulk delete, verify AlertDialog"
      ]
    },
    {
      "id": "S11",
      "title": "Create unified StatusBadge component",
      "priority": 11,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Create apps/web/src/components/composed/StatusBadge.tsx",
        "Use shadcn Badge component as base",
        "Props: status (string), type ('order' | 'conversation')",
        "Map order statuses: draft->secondary, pending->secondary, confirmed->default, preparing->info, ready->warning, delivered->success, cancelled->destructive",
        "Map conversation statuses: active->default, escalated->warning, closed->success",
        "Add CSS custom properties for status colors",
        "Replace existing OrderStatusBadge and ConversationStatusBadge with unified component",
        "BROWSER TEST: View orders list, verify status badges render with correct colors",
        "BROWSER TEST: View conversations list, verify status badges render correctly"
      ]
    },
    {
      "id": "S12",
      "title": "Typography and spacing audit across all routes",
      "priority": 12,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Search all route files for text-xs class usage",
        "Replace body text text-xs with text-sm (minimum 15px)",
        "Labels can remain text-xs (13-14px) or use text-sm",
        "Update line-height to 1.5-1.6 for body text",
        "Standardize card padding to p-6 (24px)",
        "Standardize section gaps to gap-6 or gap-8",
        "Apply max-w-7xl to list pages (conversations, orders, products)",
        "Apply max-w-4xl to detail/form pages",
        "Apply max-w-5xl to settings pages",
        "BROWSER TEST: Navigate to conversations, verify text is readable (not too small)",
        "BROWSER TEST: Navigate to orders, verify consistent card padding"
      ]
    },
    {
      "id": "S13",
      "title": "Create dashboard backend queries",
      "priority": 13,
      "passes": true,
      "ultrawork": true,
      "acceptanceCriteria": [
        "Create packages/backend/convex/dashboard.ts file",
        "Create getMetrics query with args: { businessId: v.id('businesses') }",
        "getMetrics returns: activeConversations (number), escalatedCount (number), ordersToday (number), revenueToday (number in cents), weeklyConversations (number), weeklyChange (percentage)",
        "Count conversations with status 'active' for activeConversations",
        "Count conversations with status 'escalated' for escalatedCount",
        "Count orders created today for ordersToday",
        "Sum order totals created today for revenueToday",
        "Create getActivity query with args: { businessId: v.id('businesses'), limit: v.optional(v.number()) }",
        "getActivity returns array of: { type: 'conversation' | 'order', description: string, timestamp: number, link: string }",
        "Limit defaults to 5 most recent events",
        "Run npx convex dev to verify queries compile"
      ]
    },
    {
      "id": "S14",
      "title": "Create Dashboard metric cards UI",
      "priority": 14,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/dashboard.tsx with new design",
        "Add personalized greeting: 'Good morning, {userName}! Here's what's happening at {businessName}'",
        "Greeting time-aware: morning/afternoon/evening based on local time",
        "Create apps/web/src/components/composed/MetricCard.tsx component",
        "MetricCard props: title, value, subtitle, icon, link, variant (default/warning)",
        "Create bento grid layout with 3 metric cards",
        "Card 1: Conversations - activeConversations count, escalatedCount as warning subtitle",
        "Card 2: Orders - ordersToday count, revenueToday formatted as currency",
        "Card 3: Weekly Trend - weeklyConversations with percentage change indicator",
        "Each card links to relevant page on click",
        "BROWSER TEST: Navigate to /dashboard, verify greeting shows user name",
        "BROWSER TEST: Verify 3 metric cards render with data",
        "BROWSER TEST: Click conversations card, verify navigation to /conversations"
      ]
    },
    {
      "id": "S15",
      "title": "Create Dashboard activity feed and quick actions",
      "priority": 15,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Create apps/web/src/components/composed/ActivityItem.tsx component",
        "ActivityItem props: type, description, timestamp, link",
        "Display appropriate icon based on type (conversation, order, escalation)",
        "Escalation items highlighted with warning background",
        "Timestamp shown as relative time (2m ago, 1h ago)",
        "Add Recent Activity section to dashboard below metric cards",
        "Activity section shows last 5 events from getActivity query",
        "Add 'See all' link at bottom of activity list",
        "Add Quick Actions sidebar section on right",
        "Quick Actions: Add Product button, Settings button, Connect WhatsApp (if not connected)",
        "Add empty state for new businesses showing onboarding checklist",
        "BROWSER TEST: Verify activity feed shows recent items",
        "BROWSER TEST: Verify quick action buttons are clickable"
      ]
    },
    {
      "id": "S16",
      "title": "Conversations page text and styling improvements",
      "priority": 16,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/conversations/index.tsx",
        "Increase base text size from text-xs to text-sm throughout",
        "Conversation list items: min-h-20 for comfortable touch targets",
        "Add avatar placeholder with customer initials (first letter of phone or name)",
        "Add color-coded left border based on status (4px wide)",
        "Status border colors: active->primary, escalated->warning, closed->muted",
        "Update timestamps to relative format: '2m ago', '1h ago', 'Yesterday'",
        "Make header with filters sticky at top of list",
        "BROWSER TEST: Navigate to /conversations, verify text is readable",
        "BROWSER TEST: Verify conversation items have colored left border",
        "BROWSER TEST: Verify timestamps show relative time"
      ]
    },
    {
      "id": "S17",
      "title": "Conversations message bubbles and actions UI",
      "priority": 17,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/conversations_.$conversationId.tsx",
        "Message bubbles: rounded-2xl with proper padding",
        "Visual distinction between customer, AI, and human agent messages",
        "Customer messages: aligned left, secondary background",
        "AI messages: aligned right, muted background with AI indicator",
        "Human agent messages: aligned right, primary background",
        "Add proper spacing between message groups (same sender)",
        "Actions (Take Over, Close, etc.) as icon buttons in conversation header",
        "BROWSER TEST: Navigate to conversation detail, verify message bubbles styled",
        "BROWSER TEST: Verify customer vs AI vs agent messages visually distinct"
      ]
    },
    {
      "id": "S18",
      "title": "Conversations empty state",
      "priority": 18,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Create empty state component for conversations list",
        "Empty state shows: illustration/icon, 'No conversations yet' heading",
        "Subtext explains: 'Conversations will appear here when customers message you on WhatsApp'",
        "If WhatsApp not connected: add 'Connect WhatsApp' CTA button",
        "Empty state centered vertically and horizontally",
        "BROWSER TEST: With no conversations, verify empty state displays",
        "BROWSER TEST: Verify Connect WhatsApp button visible if not connected"
      ]
    },
    {
      "id": "S19",
      "title": "Orders page search and table improvements",
      "priority": 19,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/orders/index.tsx",
        "Add search input at top of orders list",
        "Search filters by order number or customer phone (client-side)",
        "Add customer phone column to orders table",
        "Update StatusBadge to use new unified component",
        "Add row hover effect: subtle background color change",
        "Update dates to smart format: 'Today', 'Yesterday', 'Jan 15'",
        "BROWSER TEST: Navigate to /orders, verify search input visible",
        "BROWSER TEST: Type in search, verify orders filter correctly",
        "BROWSER TEST: Hover over order row, verify background changes"
      ]
    },
    {
      "id": "S20",
      "title": "Orders page pagination and empty state",
      "priority": 20,
      "passes": true,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Add pagination controls to orders list",
        "Show 'Showing X-Y of Z orders' text",
        "Previous/Next page buttons",
        "Pagination state managed in component (client-side)",
        "Create empty state for orders",
        "Empty state shows: illustration/icon, 'No orders yet' heading",
        "Subtext: 'Orders will appear here when customers place orders through WhatsApp'",
        "BROWSER TEST: With many orders, verify pagination controls appear",
        "BROWSER TEST: Click next page, verify orders change",
        "BROWSER TEST: With no orders, verify empty state displays"
      ]
    },
    {
      "id": "S21",
      "title": "Orders detail page layout redesign",
      "priority": 21,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/orders_.$orderId.tsx",
        "Implement 2-column layout: order info (left 2/3), customer/delivery info (right 1/3)",
        "Status badge prominent in page header area",
        "Order items displayed in clean table format",
        "Add link to related conversation if exists",
        "Action buttons (Confirm, Cancel, Mark Ready, etc.) as primary buttons at bottom",
        "Actions appropriate to current order status",
        "BROWSER TEST: Navigate to order detail, verify 2-column layout",
        "BROWSER TEST: Verify status badge visible in header",
        "BROWSER TEST: Verify action buttons at bottom of page"
      ]
    },
    {
      "id": "S22",
      "title": "Products page card design improvements",
      "priority": 22,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/products/index.tsx",
        "Product cards: larger images with aspect-square ratio",
        "Improved typography: product name as semibold, price clearly visible",
        "Add availability indicator dot (green = available, gray = unavailable)",
        "Category dropdown in header for quick filtering",
        "Increase grid gap to gap-6 for better spacing",
        "BROWSER TEST: Navigate to /products, verify product cards have larger images",
        "BROWSER TEST: Verify availability dots visible on cards",
        "BROWSER TEST: Verify category filter dropdown in header"
      ]
    },
    {
      "id": "S23",
      "title": "Products page bulk action bar",
      "priority": 23,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Move bulk action bar to fixed position at bottom of screen",
        "Bar appears only when 1+ products selected",
        "Bar shows: '{count} selected' text, bulk actions (Delete, Mark Unavailable)",
        "Bar has slight shadow and solid background",
        "Clear selection button (X) on bar",
        "Bar slides up with animation when items selected",
        "BROWSER TEST: Select multiple products, verify action bar appears at bottom",
        "BROWSER TEST: Verify bar shows correct count of selected items",
        "BROWSER TEST: Click clear selection, verify bar disappears"
      ]
    },
    {
      "id": "S24",
      "title": "Products page empty state",
      "priority": 24,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Create empty state for products list",
        "Empty state shows: illustration/icon, 'Add your first product' heading",
        "Subtext: 'Products you add will be available for customers to order through WhatsApp'",
        "Add prominent 'Add Product' CTA button",
        "Empty state centered in content area",
        "BROWSER TEST: With no products, verify empty state displays",
        "BROWSER TEST: Click Add Product button, verify navigation to /products/new"
      ]
    },
    {
      "id": "S25",
      "title": "Landing page hero section redesign",
      "priority": 25,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/index.tsx",
        "Remove ASCII art, add proper Echo logo",
        "Hero section with tagline: 'AI-Powered Customer Service for Your WhatsApp Business'",
        "Subheading explaining value proposition",
        "Warm gradient background using brand colors (terracotta to peach)",
        "Two CTAs: 'Get Started Free' (primary button), 'Sign In' (outline button)",
        "Remove API health check display (move to admin if needed)",
        "Redirect to /dashboard if already logged in",
        "BROWSER TEST: Navigate to / when logged out, verify hero section displays",
        "BROWSER TEST: Verify Get Started and Sign In buttons visible",
        "BROWSER TEST: When logged in, verify redirect to dashboard"
      ]
    },
    {
      "id": "S26",
      "title": "Landing page features and social proof",
      "priority": 26,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Add 3 feature cards below hero (bento-style grid)",
        "Feature 1: '24/7 Support' - AI handles messages any time",
        "Feature 2: 'Smart AI' - Understands context and intent",
        "Feature 3: 'Easy Setup' - Connect in minutes",
        "Each card has icon, title, brief description",
        "Add social proof section: 'Trusted by 500+ LATAM businesses'",
        "Mobile: feature cards stack vertically",
        "Maintain CTAs above fold on mobile",
        "BROWSER TEST: Scroll down landing page, verify feature cards visible",
        "BROWSER TEST: Verify social proof text displays",
        "BROWSER TEST: On mobile viewport, verify vertical card stack"
      ]
    },
    {
      "id": "S27",
      "title": "Auth pages split layout redesign",
      "priority": 27,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/login.tsx with split layout",
        "Update apps/web/src/routes/signup.tsx with split layout",
        "Left panel (50%): brand gradient/mesh background, testimonial quote, Echo branding",
        "Right panel (50%): Echo logo, auth form, submit button, OAuth options, switch link",
        "Terracotta primary button color for submit",
        "Increase form field spacing to gap-6",
        "Error states use destructive color scheme",
        "Loading state on submit button (spinner)",
        "Mobile: hide left panel, show only form with logo above",
        "BROWSER TEST: Navigate to /login, verify split layout on desktop",
        "BROWSER TEST: Verify form has terracotta submit button",
        "BROWSER TEST: On mobile, verify only form panel shows"
      ]
    },
    {
      "id": "S28",
      "title": "Onboarding wizard step 1 - Business Info",
      "priority": 28,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Update apps/web/src/routes/onboarding.tsx to multi-step wizard",
        "Add progress indicator at top: 3 circles connected by lines",
        "Step 1 active state highlighted",
        "Step 1 fields: Business Name (required), Business Type dropdown, Description textarea",
        "Business types: Restaurant, Retail, Service, Other",
        "Next button at bottom, disabled until required fields filled",
        "Store step 1 data in React state",
        "BROWSER TEST: Navigate to /onboarding, verify progress indicator shows step 1",
        "BROWSER TEST: Fill business name, verify Next button enables",
        "BROWSER TEST: Click Next, verify navigation to step 2"
      ]
    },
    {
      "id": "S29",
      "title": "Onboarding wizard step 2 - Branding",
      "priority": 29,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Step 2 of onboarding wizard",
        "Progress indicator shows step 2 active",
        "Step 2 fields: Logo upload (drag-drop), Business Address",
        "Use existing ImageUpload component for logo",
        "Replace URL input with ImageUpload drag-drop zone",
        "Address field is optional",
        "Back button returns to step 1 (preserves data)",
        "Next button proceeds to step 3",
        "Animate transition between steps",
        "BROWSER TEST: On step 2, verify logo upload drag-drop zone",
        "BROWSER TEST: Click Back, verify returns to step 1 with data preserved",
        "BROWSER TEST: Click Next, verify proceeds to step 3"
      ]
    },
    {
      "id": "S30",
      "title": "Onboarding wizard step 3 - Ready",
      "priority": 30,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Step 3 of onboarding wizard - completion/celebration",
        "Progress indicator shows step 3 active (all complete)",
        "Celebration visual: checkmark icon or confetti animation",
        "Summary of business info entered",
        "Display: business name, type, logo preview",
        "Two suggested next actions: 'Go to Dashboard' (primary), 'Connect WhatsApp' (secondary)",
        "Submit all data to Convex mutation on this step",
        "Handle submission errors gracefully",
        "BROWSER TEST: On step 3, verify celebration visual displays",
        "BROWSER TEST: Verify business summary shows entered info",
        "BROWSER TEST: Click Go to Dashboard, verify redirect to /dashboard"
      ]
    },
    {
      "id": "S31",
      "title": "Settings page sidebar navigation structure",
      "priority": 31,
      "passes": false,
      "ultrawork": true,
      "acceptanceCriteria": [
        "Restructure apps/web/src/routes/settings/ routes",
        "Create settings layout with internal sidebar navigation",
        "Settings sidebar sections: General, AI & Automation, Integrations",
        "General items: Business Info, Localization, Business Hours",
        "AI & Automation items: AI Personality, Escalation Rules",
        "Integrations items: WhatsApp, Shopify",
        "Clicking sidebar item shows that section in main content area",
        "Implement as tabs or nested routes within settings layout",
        "Keep sub-routes for deep linking support",
        "Add sticky save button at bottom of content area",
        "BROWSER TEST: Navigate to /settings, verify sidebar with sections",
        "BROWSER TEST: Click different sidebar items, verify content changes",
        "BROWSER TEST: Verify save button sticky at bottom"
      ]
    },
    {
      "id": "S32",
      "title": "Settings General section forms",
      "priority": 32,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Render Business Info form in settings general section",
        "Render Localization settings (timezone, currency, language)",
        "Render Business Hours configuration",
        "Each subsection collapsible/expandable",
        "Forms use existing Convex mutations - no backend changes",
        "Proper form validation with error messages",
        "Success toast on save",
        "BROWSER TEST: Navigate to settings general, verify business info form",
        "BROWSER TEST: Expand/collapse sections, verify toggle works",
        "BROWSER TEST: Edit and save, verify success toast"
      ]
    },
    {
      "id": "S33",
      "title": "Settings AI section forms",
      "priority": 33,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Render AI Personality settings inline in settings page",
        "Render Escalation Rules settings inline",
        "Remove separate /settings/ai route if exists (content moved inline)",
        "Collapsible sections for each AI setting area",
        "Forms use existing Convex mutations",
        "BROWSER TEST: Click AI & Automation in settings sidebar",
        "BROWSER TEST: Verify AI personality and escalation forms visible",
        "BROWSER TEST: Edit settings, verify save works"
      ]
    },
    {
      "id": "S34",
      "title": "Settings Integrations section",
      "priority": 34,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Render WhatsApp integration settings inline",
        "Render Shopify integration settings inline",
        "Show connection status for each integration",
        "If not connected: show Connect button",
        "If connected: show status and Disconnect option",
        "Remove need to navigate to separate integration pages for basic info",
        "Keep detailed integration pages for advanced configuration",
        "BROWSER TEST: Click Integrations in settings sidebar",
        "BROWSER TEST: Verify WhatsApp and Shopify sections visible",
        "BROWSER TEST: Verify connection status displays correctly"
      ]
    },
    {
      "id": "S35",
      "title": "Dark mode CSS variables and theme toggle",
      "priority": 35,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Verify all color variables have dark mode equivalents in index.css",
        "Implement theme toggle in user menu or settings",
        "Theme toggle options: Light, Dark, System",
        "Store preference in localStorage",
        "Respect system preference when set to System",
        "Remove hardcoded className='dark' from html element",
        "Apply theme class dynamically based on preference",
        "Prevent white flash on page load (use blocking script)",
        "BROWSER TEST: Toggle to dark mode, verify colors change",
        "BROWSER TEST: Toggle to light mode, verify colors change back",
        "BROWSER TEST: Refresh page, verify theme preference persists"
      ]
    },
    {
      "id": "S36",
      "title": "Dark mode verification across all pages",
      "priority": 36,
      "passes": false,
      "ultrawork": false,
      "acceptanceCriteria": [
        "Verify status badges readable in dark mode",
        "Verify gradient backgrounds work in dark mode",
        "Verify border colors visible but subtle in dark mode",
        "Verify form inputs have proper contrast in dark mode",
        "Verify images/illustrations work in both modes",
        "Fix any components with hardcoded light colors",
        "Test landing page in dark mode",
        "Test auth pages in dark mode",
        "Test all dashboard/list pages in dark mode",
        "BROWSER TEST: In dark mode, navigate to all main pages",
        "BROWSER TEST: Verify text is readable on all pages",
        "BROWSER TEST: Verify no elements have white backgrounds in dark mode"
      ]
    }
  ]
}
